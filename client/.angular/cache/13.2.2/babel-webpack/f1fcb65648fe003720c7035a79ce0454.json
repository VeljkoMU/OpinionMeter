{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"src/app/services/user-data-manager.service\";\nimport * as i2 from \"src/app/services/post-service.service\";\nimport * as i3 from \"@angular/common\";\nimport * as i4 from \"@angular/forms\";\n\nfunction AddPostFormComponent_div_0_div_1_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r5 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 4);\n    i0.ɵɵlistener(\"click\", function AddPostFormComponent_div_0_div_1_Template_div_click_0_listener($event) {\n      return $event.stopPropagation();\n    });\n    i0.ɵɵtext(1, \" Share you opinion: \");\n    i0.ɵɵelementStart(2, \"textarea\", 5);\n    i0.ɵɵlistener(\"ngModelChange\", function AddPostFormComponent_div_0_div_1_Template_textarea_ngModelChange_2_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r4 = i0.ɵɵnextContext(2);\n      return ctx_r4.postText = $event;\n    });\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(3, \"div\");\n    i0.ɵɵtext(4, \" Select a tag: \");\n    i0.ɵɵelementStart(5, \"select\", 6);\n    i0.ɵɵlistener(\"ngModelChange\", function AddPostFormComponent_div_0_div_1_Template_select_ngModelChange_5_listener($event) {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r6 = i0.ɵɵnextContext(2);\n      return ctx_r6.tag = $event;\n    });\n    i0.ɵɵelementStart(6, \"option\", 7);\n    i0.ɵɵtext(7, \"general\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(8, \"option\", 8);\n    i0.ɵɵtext(9, \"politics\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(10, \"option\", 9);\n    i0.ɵɵtext(11, \"philosphy\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(12, \"option\", 10);\n    i0.ɵɵtext(13, \"personal\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(14, \"option\", 11);\n    i0.ɵɵtext(15, \"hobbies\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(16, \"option\", 12);\n    i0.ɵɵtext(17, \"current events\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementStart(18, \"button\", 13);\n    i0.ɵɵlistener(\"click\", function AddPostFormComponent_div_0_div_1_Template_button_click_18_listener() {\n      i0.ɵɵrestoreView(_r5);\n      const ctx_r7 = i0.ɵɵnextContext(2);\n      return ctx_r7.add();\n    });\n    i0.ɵɵtext(19, \"Post\");\n    i0.ɵɵelementEnd();\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r1 = i0.ɵɵnextContext(2);\n    i0.ɵɵadvance(2);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.postText);\n    i0.ɵɵadvance(3);\n    i0.ɵɵproperty(\"ngModel\", ctx_r1.tag);\n  }\n}\n\nfunction AddPostFormComponent_div_0_div_2_Template(rf, ctx) {\n  if (rf & 1) {\n    i0.ɵɵelementStart(0, \"div\", 14);\n    i0.ɵɵtext(1, \" Thank you for sharing!\\n\");\n    i0.ɵɵelementEnd();\n  }\n}\n\nfunction AddPostFormComponent_div_0_Template(rf, ctx) {\n  if (rf & 1) {\n    const _r9 = i0.ɵɵgetCurrentView();\n\n    i0.ɵɵelementStart(0, \"div\", 1);\n    i0.ɵɵlistener(\"click\", function AddPostFormComponent_div_0_Template_div_click_0_listener() {\n      i0.ɵɵrestoreView(_r9);\n      const ctx_r8 = i0.ɵɵnextContext();\n      return ctx_r8.dismiss();\n    });\n    i0.ɵɵtemplate(1, AddPostFormComponent_div_0_div_1_Template, 20, 2, \"div\", 2);\n    i0.ɵɵtemplate(2, AddPostFormComponent_div_0_div_2_Template, 2, 0, \"div\", 3);\n    i0.ɵɵelementEnd();\n  }\n\n  if (rf & 2) {\n    const ctx_r0 = i0.ɵɵnextContext();\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", !ctx_r0.done);\n    i0.ɵɵadvance(1);\n    i0.ɵɵproperty(\"ngIf\", ctx_r0.done);\n  }\n}\n\nexport let AddPostFormComponent = /*#__PURE__*/(() => {\n  class AddPostFormComponent {\n    constructor(userData, postService) {\n      this.userData = userData;\n      this.postService = postService;\n      this.postText = \"\";\n      this.tag = \"general\";\n      this.link = \"\";\n      this.done = false;\n      this.visible = true;\n      this.closeDialogEvent = new EventEmitter();\n    }\n\n    ngOnInit() {\n      this.done = false;\n    }\n\n    add() {\n      let user = this.userData.username;\n      this.postService.addPost(user, this.postText, this.link, this.tag).subscribe(res => {\n        if (res.status) {\n          this.done = true;\n          setTimeout(() => {\n            this.closeDialogEvent.emit(false);\n            this.done = false;\n          }, 2000);\n        }\n      });\n    }\n\n    dismiss() {\n      this.closeDialogEvent.emit(false);\n      this.done = false;\n    }\n\n  }\n\n  AddPostFormComponent.ɵfac = function AddPostFormComponent_Factory(t) {\n    return new (t || AddPostFormComponent)(i0.ɵɵdirectiveInject(i1.UserDataManagerService), i0.ɵɵdirectiveInject(i2.PostServiceService));\n  };\n\n  AddPostFormComponent.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n    type: AddPostFormComponent,\n    selectors: [[\"app-add-post-form\"]],\n    inputs: {\n      visible: \"visible\"\n    },\n    outputs: {\n      closeDialogEvent: \"closeDialogEvent\"\n    },\n    decls: 1,\n    vars: 1,\n    consts: [[\"class\", \"dialogWrapper\", 3, \"click\", 4, \"ngIf\"], [1, \"dialogWrapper\", 3, \"click\"], [\"class\", \"container\", 3, \"click\", 4, \"ngIf\"], [\"class\", \"done\", 4, \"ngIf\"], [1, \"container\", 3, \"click\"], [\"rows\", \"4\", \"cols\", \"50\", 3, \"ngModel\", \"ngModelChange\"], [3, \"ngModel\", \"ngModelChange\"], [\"value\", \"general\"], [\"value\", \"politics\"], [\"value\", \"philosphy\"], [\"value\", \"personal\"], [\"value\", \"hobbies\"], [\"value\", \"current_events\"], [1, \"button\", 3, \"click\"], [1, \"done\"]],\n    template: function AddPostFormComponent_Template(rf, ctx) {\n      if (rf & 1) {\n        i0.ɵɵtemplate(0, AddPostFormComponent_div_0_Template, 3, 2, \"div\", 0);\n      }\n\n      if (rf & 2) {\n        i0.ɵɵproperty(\"ngIf\", ctx.visible);\n      }\n    },\n    directives: [i3.NgIf, i4.DefaultValueAccessor, i4.NgControlStatus, i4.NgModel, i4.SelectControlValueAccessor, i4.NgSelectOption, i4.ɵNgSelectMultipleOption],\n    styles: [\".container[_ngcontent-%COMP%]{width:50%;margin-bottom:15px;margin-top:15px;display:flex;flex-direction:column;justify-content:space-evenly;align-items:center;padding:20px;transition:ease-in-out .3s;border-radius:5px;background-color:#404040;z-index:9999}.container[_ngcontent-%COMP%]   div[_ngcontent-%COMP%]{padding:5px}.done[_ngcontent-%COMP%]{display:flex;justify-content:center;font-size:35px}div[_ngcontent-%COMP%]{margin-top:10px}.dialogWrapper[_ngcontent-%COMP%]{position:fixed;top:0;left:0;width:100vw;height:100vh;background-color:#0000008d;justify-content:center;align-items:center;display:flex}body.dialog-open[_ngcontent-%COMP%]{overflow:hidden}@media screen and (max-width: 768px){.container[_ngcontent-%COMP%]{width:100%}}\"]\n  });\n  return AddPostFormComponent;\n})();","map":null,"metadata":{},"sourceType":"module"}